import{S as _l,i as hl,s as vl,e as a,k as _,w as D,t as n,M as bl,c as i,d as r,m as h,x as T,a as u,h as l,b as P,G as t,g as p,y as F,o as $,p as tt,q as g,B as S,v as $l,n as rt}from"../../chunks/vendor-hf-doc-builder.js";import{Y as ml}from"../../chunks/Youtube-hf-doc-builder.js";import{I as zt}from"../../chunks/IconCopyLink-hf-doc-builder.js";import{C as U}from"../../chunks/CodeBlock-hf-doc-builder.js";import{C as fl}from"../../chunks/CourseFloatingBanner-hf-doc-builder.js";import{F as gl}from"../../chunks/FrameworkSwitchCourse-hf-doc-builder.js";function El(E){let o,d;return o=new fl({props:{chapter:2,classNames:"absolute z-10 right-0 top-0",notebooks:[{label:"Google Colab",value:"https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/chapter2/section3_tf.ipynb"},{label:"Aws Studio",value:"https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/chapter2/section3_tf.ipynb"}]}}),{c(){D(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function kl(E){let o,d;return o=new fl({props:{chapter:2,classNames:"absolute z-10 right-0 top-0",notebooks:[{label:"Google Colab",value:"https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/chapter2/section3_pt.ipynb"},{label:"Aws Studio",value:"https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/chapter2/section3_pt.ipynb"}]}}),{c(){D(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function ql(E){let o,d;return o=new ml({props:{id:"d3JVgghSOew"}}),{c(){D(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function yl(E){let o,d;return o=new ml({props:{id:"AhChOFRegn4"}}),{c(){D(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function wl(E){let o,d,s,m,w,q,v,M,C,k,A,L,x,B,O,N,z;return{c(){o=a("p"),d=n("Dans cette section, nous allons examiner de plus pr\xE8s la cr\xE9ation et l\u2019utilisation d\u2019un mod\xE8le. Nous utiliserons la classe "),s=a("code"),m=n("TFAutoModel"),w=n(" qui est pratique lorsque vous voulez instancier n\u2019importe quel mod\xE8le \xE0 partir d\u2019un checkpoint."),q=_(),v=a("p"),M=n("La classe "),C=a("code"),k=n("TFAutoModel"),A=n(" et toutes les classes apparent\xE9es sont en fait de simples "),L=a("em"),x=n("wrappers"),B=n(" sur la grande vari\xE9t\xE9 de mod\xE8les disponibles dans la biblioth\xE8que. C\u2019est une enveloppe intelligente car elle peut automatiquement deviner l\u2019architecture appropri\xE9e pour votre "),O=a("em"),N=n("checkpoint"),z=n(" et ensuite instancier un mod\xE8le avec cette architecture.")},l(y){o=i(y,"P",{});var j=u(o);d=l(j,"Dans cette section, nous allons examiner de plus pr\xE8s la cr\xE9ation et l\u2019utilisation d\u2019un mod\xE8le. Nous utiliserons la classe "),s=i(j,"CODE",{});var I=u(s);m=l(I,"TFAutoModel"),I.forEach(r),w=l(j," qui est pratique lorsque vous voulez instancier n\u2019importe quel mod\xE8le \xE0 partir d\u2019un checkpoint."),j.forEach(r),q=h(y),v=i(y,"P",{});var f=u(v);M=l(f,"La classe "),C=i(f,"CODE",{});var b=u(C);k=l(b,"TFAutoModel"),b.forEach(r),A=l(f," et toutes les classes apparent\xE9es sont en fait de simples "),L=i(f,"EM",{});var H=u(L);x=l(H,"wrappers"),H.forEach(r),B=l(f," sur la grande vari\xE9t\xE9 de mod\xE8les disponibles dans la biblioth\xE8que. C\u2019est une enveloppe intelligente car elle peut automatiquement deviner l\u2019architecture appropri\xE9e pour votre "),O=i(f,"EM",{});var R=u(O);N=l(R,"checkpoint"),R.forEach(r),z=l(f," et ensuite instancier un mod\xE8le avec cette architecture."),f.forEach(r)},m(y,j){p(y,o,j),t(o,d),t(o,s),t(s,m),t(o,w),p(y,q,j),p(y,v,j),t(v,M),t(v,C),t(C,k),t(v,A),t(v,L),t(L,x),t(v,B),t(v,O),t(O,N),t(v,z)},d(y){y&&r(o),y&&r(q),y&&r(v)}}}function Ml(E){let o,d,s,m,w,q,v,M,C,k,A,L,x,B,O,N,z;return{c(){o=a("p"),d=n("Dans cette section, nous allons examiner de plus pr\xE8s la cr\xE9ation et l\u2019utilisation d\u2019un mod\xE8le. Nous utiliserons la classe "),s=a("code"),m=n("AutoModel"),w=n(" qui est pratique lorsque vous voulez instancier n\u2019importe quel mod\xE8le \xE0 partir d\u2019un checkpoint."),q=_(),v=a("p"),M=n("La classe "),C=a("code"),k=n("AutoModel"),A=n(" et toutes les classes apparent\xE9es sont en fait de simples "),L=a("em"),x=n("wrappers"),B=n(" sur la grande vari\xE9t\xE9 de mod\xE8les disponibles dans la biblioth\xE8que. C\u2019est une enveloppe intelligente car elle peut automatiquement deviner l\u2019architecture appropri\xE9e pour votre "),O=a("em"),N=n("checkpoint"),z=n(" et ensuite instancier un mod\xE8le avec cette architecture.")},l(y){o=i(y,"P",{});var j=u(o);d=l(j,"Dans cette section, nous allons examiner de plus pr\xE8s la cr\xE9ation et l\u2019utilisation d\u2019un mod\xE8le. Nous utiliserons la classe "),s=i(j,"CODE",{});var I=u(s);m=l(I,"AutoModel"),I.forEach(r),w=l(j," qui est pratique lorsque vous voulez instancier n\u2019importe quel mod\xE8le \xE0 partir d\u2019un checkpoint."),j.forEach(r),q=h(y),v=i(y,"P",{});var f=u(v);M=l(f,"La classe "),C=i(f,"CODE",{});var b=u(C);k=l(b,"AutoModel"),b.forEach(r),A=l(f," et toutes les classes apparent\xE9es sont en fait de simples "),L=i(f,"EM",{});var H=u(L);x=l(H,"wrappers"),H.forEach(r),B=l(f," sur la grande vari\xE9t\xE9 de mod\xE8les disponibles dans la biblioth\xE8que. C\u2019est une enveloppe intelligente car elle peut automatiquement deviner l\u2019architecture appropri\xE9e pour votre "),O=i(f,"EM",{});var R=u(O);N=l(R,"checkpoint"),R.forEach(r),z=l(f," et ensuite instancier un mod\xE8le avec cette architecture."),f.forEach(r)},m(y,j){p(y,o,j),t(o,d),t(o,s),t(s,m),t(o,w),p(y,q,j),p(y,v,j),t(v,M),t(v,C),t(C,k),t(v,A),t(v,L),t(L,x),t(v,B),t(v,O),t(O,N),t(v,z)},d(y){y&&r(o),y&&r(q),y&&r(v)}}}function Cl(E){let o,d;return o=new U({props:{code:`from transformers import BertConfig, TFBertModel

# Construire la configuration
config = BertConfig()

# Construire le mod\xE8le \xE0 partir de la configuration
model = TFBertModel(config)`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertConfig, TFBertModel

<span class="hljs-comment"># Construire la configuration</span>
config = BertConfig()

<span class="hljs-comment"># Construire le mod\xE8le \xE0 partir de la configuration</span>
model = TFBertModel(config)`}}),{c(){D(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function jl(E){let o,d;return o=new U({props:{code:`from transformers import BertConfig, BertModel

# Construire la configuration
config = BertConfig()

# Construire le mod\xE8le \xE0 partir de la configuration
model = BertModel(config)`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertConfig, BertModel

<span class="hljs-comment"># Construire la configuration</span>
config = BertConfig()

<span class="hljs-comment"># Construire le mod\xE8le \xE0 partir de la configuration</span>
model = BertModel(config)`}}),{c(){D(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function Bl(E){let o,d;return o=new U({props:{code:`from transformers import BertConfig, TFBertModel

config = BertConfig()
model = TFBertModel(config)

# Le mod\xE8le est initialis\xE9 de fa\xE7on al\xE9atoire !`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertConfig, TFBertModel

config = BertConfig()
model = TFBertModel(config)

<span class="hljs-comment"># Le mod\xE8le est initialis\xE9 de fa\xE7on al\xE9atoire !</span>`}}),{c(){D(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function zl(E){let o,d;return o=new U({props:{code:`from transformers import BertConfig, BertModel

config = BertConfig()
model = BertModel(config)

# Le mod\xE8le est initialis\xE9 de fa\xE7on al\xE9atoire !`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertConfig, BertModel

config = BertConfig()
model = BertModel(config)

<span class="hljs-comment"># Le mod\xE8le est initialis\xE9 de fa\xE7on al\xE9atoire !</span>`}}),{c(){D(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function Pl(E){let o,d,s,m,w,q,v,M,C,k,A,L,x,B,O,N,z,y,j,I;return o=new U({props:{code:`from transformers import TFBertModel

model = TFBertModel.from_pretrained("bert-base-cased")`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> TFBertModel

model = TFBertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)`}}),{c(){D(o.$$.fragment),d=_(),s=a("p"),m=n("Comme vu pr\xE9c\xE9demment, nous pouvons remplacer "),w=a("code"),q=n("TFBertModel"),v=n(" par la classe \xE9quivalente "),M=a("code"),C=n("TFAutoModel"),k=n(". A partir de maintenant nous ferons cela car cela produit un code agnostique "),A=a("em"),L=n("checkpoint"),x=n(", c\u2019est-\xE0-dire que si votre code fonctionne pour un "),B=a("em"),O=n("checkpoint"),N=n(" donn\xE9, il devrait fonctionner sans probl\xE8me avec un autre. Cela s\u2019applique m\xEAme si l\u2019architecture est diff\xE9rente du moment que le "),z=a("em"),y=n("checkpoint"),j=n(" a \xE9t\xE9 entra\xEEn\xE9 pour une t\xE2che similaire (par exemple, une t\xE2che d\u2019analyse de sentiments).")},l(f){T(o.$$.fragment,f),d=h(f),s=i(f,"P",{});var b=u(s);m=l(b,"Comme vu pr\xE9c\xE9demment, nous pouvons remplacer "),w=i(b,"CODE",{});var H=u(w);q=l(H,"TFBertModel"),H.forEach(r),v=l(b," par la classe \xE9quivalente "),M=i(b,"CODE",{});var R=u(M);C=l(R,"TFAutoModel"),R.forEach(r),k=l(b,". A partir de maintenant nous ferons cela car cela produit un code agnostique "),A=i(b,"EM",{});var X=u(A);L=l(X,"checkpoint"),X.forEach(r),x=l(b,", c\u2019est-\xE0-dire que si votre code fonctionne pour un "),B=i(b,"EM",{});var Y=u(B);O=l(Y,"checkpoint"),Y.forEach(r),N=l(b," donn\xE9, il devrait fonctionner sans probl\xE8me avec un autre. Cela s\u2019applique m\xEAme si l\u2019architecture est diff\xE9rente du moment que le "),z=i(b,"EM",{});var be=u(z);y=l(be,"checkpoint"),be.forEach(r),j=l(b," a \xE9t\xE9 entra\xEEn\xE9 pour une t\xE2che similaire (par exemple, une t\xE2che d\u2019analyse de sentiments)."),b.forEach(r)},m(f,b){F(o,f,b),p(f,d,b),p(f,s,b),t(s,m),t(s,w),t(w,q),t(s,v),t(s,M),t(M,C),t(s,k),t(s,A),t(A,L),t(s,x),t(s,B),t(B,O),t(s,N),t(s,z),t(z,y),t(s,j),I=!0},i(f){I||(g(o.$$.fragment,f),I=!0)},o(f){$(o.$$.fragment,f),I=!1},d(f){S(o,f),f&&r(d),f&&r(s)}}}function Ll(E){let o,d,s,m,w,q,v,M,C,k,A,L,x,B,O,N,z,y,j,I;return o=new U({props:{code:`from transformers import BertModel

model = BertModel.from_pretrained("bert-base-cased")`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertModel

model = BertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)`}}),{c(){D(o.$$.fragment),d=_(),s=a("p"),m=n("Comme vu pr\xE9c\xE9demment, nous pouvons remplacer "),w=a("code"),q=n("BertModel"),v=n(" par la classe \xE9quivalente "),M=a("code"),C=n("AutoModel"),k=n(". A partir de maintenant nous ferons cela car cela produit un code agnostique "),A=a("em"),L=n("checkpoint"),x=n(", c\u2019est-\xE0-dire que si votre code fonctionne pour un "),B=a("em"),O=n("checkpoint"),N=n(" donn\xE9, il devrait fonctionner sans probl\xE8me avec un autre. Cela s\u2019applique m\xEAme si l\u2019architecture est diff\xE9rente du moment que le "),z=a("em"),y=n("checkpoint"),j=n(" a \xE9t\xE9 entra\xEEn\xE9 pour une t\xE2che similaire (par exemple, une t\xE2che d\u2019analyse de sentiments).")},l(f){T(o.$$.fragment,f),d=h(f),s=i(f,"P",{});var b=u(s);m=l(b,"Comme vu pr\xE9c\xE9demment, nous pouvons remplacer "),w=i(b,"CODE",{});var H=u(w);q=l(H,"BertModel"),H.forEach(r),v=l(b," par la classe \xE9quivalente "),M=i(b,"CODE",{});var R=u(M);C=l(R,"AutoModel"),R.forEach(r),k=l(b,". A partir de maintenant nous ferons cela car cela produit un code agnostique "),A=i(b,"EM",{});var X=u(A);L=l(X,"checkpoint"),X.forEach(r),x=l(b,", c\u2019est-\xE0-dire que si votre code fonctionne pour un "),B=i(b,"EM",{});var Y=u(B);O=l(Y,"checkpoint"),Y.forEach(r),N=l(b," donn\xE9, il devrait fonctionner sans probl\xE8me avec un autre. Cela s\u2019applique m\xEAme si l\u2019architecture est diff\xE9rente du moment que le "),z=i(b,"EM",{});var be=u(z);y=l(be,"checkpoint"),be.forEach(r),j=l(b," a \xE9t\xE9 entra\xEEn\xE9 pour une t\xE2che similaire (par exemple, une t\xE2che d\u2019analyse de sentiments)."),b.forEach(r)},m(f,b){F(o,f,b),p(f,d,b),p(f,s,b),t(s,m),t(s,w),t(w,q),t(s,v),t(s,M),t(M,C),t(s,k),t(s,A),t(A,L),t(s,x),t(s,B),t(B,O),t(s,N),t(s,z),t(z,y),t(s,j),I=!0},i(f){I||(g(o.$$.fragment,f),I=!0)},o(f){$(o.$$.fragment,f),I=!1},d(f){S(o,f),f&&r(d),f&&r(s)}}}function Al(E){let o,d;return o=new U({props:{code:`ls directory_on_my_computer

config.json tf_model.h5`,highlighted:`ls <span class="hljs-keyword">directory_on_my_computer
</span>
<span class="hljs-built_in">config</span>.<span class="hljs-keyword">json </span>tf_model.h5`}}),{c(){D(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function xl(E){let o,d;return o=new U({props:{code:`ls directory_on_my_computer

config.json pytorch_model.bin`,highlighted:`ls <span class="hljs-keyword">directory_on_my_computer
</span>
<span class="hljs-built_in">config</span>.<span class="hljs-keyword">json </span>pytorch_model.<span class="hljs-keyword">bin</span>`}}),{c(){D(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function Nl(E){let o,d,s,m,w,q,v,M;return{c(){o=a("p"),d=n("Le fichier "),s=a("em"),m=n("tf_model.h5"),w=n(" est connu comme le "),q=a("em"),v=n("dictionnaire d\u2019\xE9tat"),M=n(". Il contient tous les poids de votre mod\xE8le. Les deux fichiers vont de pair : la configuration est n\xE9cessaire pour conna\xEEtre l\u2019architecture de votre mod\xE8le, tandis que les poids du mod\xE8le sont les param\xE8tres de votre mod\xE8le.")},l(C){o=i(C,"P",{});var k=u(o);d=l(k,"Le fichier "),s=i(k,"EM",{});var A=u(s);m=l(A,"tf_model.h5"),A.forEach(r),w=l(k," est connu comme le "),q=i(k,"EM",{});var L=u(q);v=l(L,"dictionnaire d\u2019\xE9tat"),L.forEach(r),M=l(k,". Il contient tous les poids de votre mod\xE8le. Les deux fichiers vont de pair : la configuration est n\xE9cessaire pour conna\xEEtre l\u2019architecture de votre mod\xE8le, tandis que les poids du mod\xE8le sont les param\xE8tres de votre mod\xE8le."),k.forEach(r)},m(C,k){p(C,o,k),t(o,d),t(o,s),t(s,m),t(o,w),t(o,q),t(q,v),t(o,M)},d(C){C&&r(o)}}}function Dl(E){let o,d,s,m,w,q,v,M;return{c(){o=a("p"),d=n("Le fichier "),s=a("em"),m=n("pytorch_model.bin"),w=n(" est connu comme le "),q=a("em"),v=n("dictionnaire d\u2019\xE9tat"),M=n(". Il contient tous les poids de votre mod\xE8le. Les deux fichiers vont de pair : la configuration est n\xE9cessaire pour conna\xEEtre l\u2019architecture de votre mod\xE8le, tandis que les poids du mod\xE8le sont les param\xE8tres de votre mod\xE8le.")},l(C){o=i(C,"P",{});var k=u(o);d=l(k,"Le fichier "),s=i(k,"EM",{});var A=u(s);m=l(A,"pytorch_model.bin"),A.forEach(r),w=l(k," est connu comme le "),q=i(k,"EM",{});var L=u(q);v=l(L,"dictionnaire d\u2019\xE9tat"),L.forEach(r),M=l(k,". Il contient tous les poids de votre mod\xE8le. Les deux fichiers vont de pair : la configuration est n\xE9cessaire pour conna\xEEtre l\u2019architecture de votre mod\xE8le, tandis que les poids du mod\xE8le sont les param\xE8tres de votre mod\xE8le."),k.forEach(r)},m(C,k){p(C,o,k),t(o,d),t(o,s),t(s,m),t(o,w),t(o,q),t(q,v),t(o,M)},d(C){C&&r(o)}}}function Tl(E){let o,d;return o=new U({props:{code:`import tensorflow as tf

model_inputs = tf.constant(encoded_sequences)`,highlighted:`<span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf

model_inputs = tf.constant(encoded_sequences)`}}),{c(){D(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function Fl(E){let o,d;return o=new U({props:{code:`import torch

model_inputs = torch.tensor(encoded_sequences)`,highlighted:`<span class="hljs-keyword">import</span> torch

model_inputs = torch.tensor(encoded_sequences)`}}),{c(){D(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function Sl(E){let o,d,s,m,w,q,v,M,C,k,A,L,x,B,O,N,z,y,j,I,f,b,H,R,X,Y,be,st,rs,Pt,ss,vr,ot,os,br,Z,ee,nt,lt,ns,$r,xe,gr,Ne,Er,V,ls,Lt,as,is,At,us,cs,xt,ds,ps,Nt,ms,fs,kr,$e,we,Dt,De,_s,Tt,hs,qr,at,vs,yr,te,re,it,Me,bs,ut,$s,gs,wr,ue,Es,Ft,ks,qs,St,ys,ws,Mr,se,oe,ct,G,Ms,Ot,Cs,js,It,Bs,zs,Ht,Ps,Ls,Te,As,xs,Cr,ce,Ns,Rt,Ds,Ts,Ut,Fs,Ss,jr,K,Os,Vt,Is,Hs,Gt,Rs,Us,Jt,Vs,Gs,Br,Q,Js,Yt,Ys,Ks,Kt,Qs,Ws,Fe,Xs,Zs,zr,ge,Ce,Qt,Se,eo,Wt,to,Pr,de,ro,Xt,so,oo,Zt,no,lo,Lr,Oe,Ar,dt,ao,xr,ne,le,pt,J,io,er,uo,co,tr,po,mo,rr,fo,_o,sr,ho,vo,Nr,mt,Ee,je,or,Ie,bo,He,$o,nr,go,Eo,Dr,W,ko,lr,qo,yo,ar,wo,Mo,ir,Co,jo,Tr,pe,Bo,ur,zo,Po,cr,Lo,Ao,Fr,ft,xo,Sr,Re,Or,me,No,dr,Do,To,pr,Fo,So,Ir,Ue,Hr,_t,Oo,Rr,ae,ie,ht,ke,Be,mr,Ve,Io,fr,Ho,Ur,vt,Ro,Vr,Ge,Gr,fe,Uo,_r,Vo,Go,hr,Jo,Yo,Jr;s=new gl({props:{fw:E[0]}}),M=new zt({});const Qo=[kl,El],Je=[];function Wo(e,c){return e[0]==="pt"?0:1}x=Wo(E),B=Je[x]=Qo[x](E);const Xo=[yl,ql],Ye=[];function Zo(e,c){return e[0]==="pt"?0:1}N=Zo(E),z=Ye[N]=Xo[N](E);function en(e,c){return e[0]==="pt"?Ml:wl}let Yr=en(E),qe=Yr(E);Y=new zt({});const tn=[jl,Cl],Ke=[];function rn(e,c){return e[0]==="pt"?0:1}Z=rn(E),ee=Ke[Z]=tn[Z](E),xe=new U({props:{code:"print(config)",highlighted:'<span class="hljs-built_in">print</span>(config)'}}),Ne=new U({props:{code:`BertConfig {
  [...]
  "hidden_size": 768,
  "intermediate_size": 3072,
  "max_position_embeddings": 512,
  "num_attention_heads": 12,
  "num_hidden_layers": 12,
  [...]
}`,highlighted:`BertConfig {
  [...]
  <span class="hljs-string">&quot;hidden_size&quot;</span>: <span class="hljs-number">768</span>,
  <span class="hljs-string">&quot;intermediate_size&quot;</span>: <span class="hljs-number">3072</span>,
  <span class="hljs-string">&quot;max_position_embeddings&quot;</span>: <span class="hljs-number">512</span>,
  <span class="hljs-string">&quot;num_attention_heads&quot;</span>: <span class="hljs-number">12</span>,
  <span class="hljs-string">&quot;num_hidden_layers&quot;</span>: <span class="hljs-number">12</span>,
  [...]
}`}}),De=new zt({});const sn=[zl,Bl],Qe=[];function on(e,c){return e[0]==="pt"?0:1}te=on(E),re=Qe[te]=sn[te](E);const nn=[Ll,Pl],We=[];function ln(e,c){return e[0]==="pt"?0:1}se=ln(E),oe=We[se]=nn[se](E),Se=new zt({}),Oe=new U({props:{code:'model.save_pretrained("directory_on_my_computer")',highlighted:'model.save_pretrained(<span class="hljs-string">&quot;directory_on_my_computer&quot;</span>)'}});const an=[xl,Al],Xe=[];function un(e,c){return e[0]==="pt"?0:1}ne=un(E),le=Xe[ne]=an[ne](E);function cn(e,c){return e[0]==="pt"?Dl:Nl}let Kr=cn(E),ye=Kr(E);Ie=new zt({}),Re=new U({props:{code:'sequences = ["Hello!", "Cool.", "Nice!"]',highlighted:'sequences = [<span class="hljs-string">&quot;Hello!&quot;</span>, <span class="hljs-string">&quot;Cool.&quot;</span>, <span class="hljs-string">&quot;Nice!&quot;</span>]'}}),Ue=new U({props:{code:`encoded_sequences = [
    [101, 7592, 999, 102],
    [101, 4658, 1012, 102],
    [101, 3835, 999, 102],
]`,highlighted:`encoded_sequences = [
    [<span class="hljs-number">101</span>, <span class="hljs-number">7592</span>, <span class="hljs-number">999</span>, <span class="hljs-number">102</span>],
    [<span class="hljs-number">101</span>, <span class="hljs-number">4658</span>, <span class="hljs-number">1012</span>, <span class="hljs-number">102</span>],
    [<span class="hljs-number">101</span>, <span class="hljs-number">3835</span>, <span class="hljs-number">999</span>, <span class="hljs-number">102</span>],
]`}});const dn=[Fl,Tl],Ze=[];function pn(e,c){return e[0]==="pt"?0:1}return ae=pn(E),ie=Ze[ae]=dn[ae](E),Ve=new zt({}),Ge=new U({props:{code:"output = model(model_inputs)",highlighted:"output = model(model_inputs)"}}),{c(){o=a("meta"),d=_(),D(s.$$.fragment),m=_(),w=a("h1"),q=a("a"),v=a("span"),D(M.$$.fragment),C=_(),k=a("span"),A=n("Les mod\xE8les"),L=_(),B.c(),O=_(),z.c(),y=_(),qe.c(),j=_(),I=a("p"),f=n("Cependant, si vous connaissez le type de mod\xE8le que vous voulez utiliser, vous pouvez utiliser directement la classe qui d\xE9finit son architecture. Voyons comment cela fonctionne avec un mod\xE8le BERT."),b=_(),H=a("h2"),R=a("a"),X=a("span"),D(Y.$$.fragment),be=_(),st=a("span"),rs=n("Cr\xE9ation d\u2019un "),Pt=a("i"),ss=n("transformer"),vr=_(),ot=a("p"),os=n("La premi\xE8re chose que nous devons faire pour initialiser un mod\xE8le BERT est de charger un objet configuration :"),br=_(),ee.c(),nt=_(),lt=a("p"),ns=n("La configuration contient de nombreux attributs qui sont utilis\xE9s pour construire le mod\xE8le :"),$r=_(),D(xe.$$.fragment),gr=_(),D(Ne.$$.fragment),Er=_(),V=a("p"),ls=n("Bien que vous n\u2019ayez pas encore vu ce que font tous ces attributs, vous devriez en reconna\xEEtre certains : l\u2019attribut "),Lt=a("code"),as=n("hidden_size"),is=n(" d\xE9finit la taille du vecteur "),At=a("code"),us=n("hidden_states"),cs=n(", et "),xt=a("code"),ds=n("num_hidden_layers"),ps=n(" d\xE9finit le nombre de couches que le "),Nt=a("em"),ms=n("transformer"),fs=n(" poss\xE8de."),kr=_(),$e=a("h3"),we=a("a"),Dt=a("span"),D(De.$$.fragment),_s=_(),Tt=a("span"),hs=n("Diff\xE9rentes m\xE9thodes de chargement"),qr=_(),at=a("p"),vs=n("Un mod\xE8le cr\xE9\xE9 \xE0 partir de la configuration par d\xE9faut est initialis\xE9 avec des valeurs al\xE9atoires :"),yr=_(),re.c(),it=_(),Me=a("p"),bs=n("Le mod\xE8le peut \xEAtre utilis\xE9 tel quel mais il produira du charabia. En effet, il doit d\u2019abord \xEAtre entra\xEEn\xE9. Nous pourrions entra\xEEner le mod\xE8le \xE0 partir de z\xE9ro sur la t\xE2che qui nous int\xE9resse mais comme vous l\u2019avez vu dans le "),ut=a("a"),$s=n("chapitre 1"),gs=n(" cela n\xE9cessiterait beaucoup de temps et de donn\xE9es. De plus cela aurait un impact environnemental non n\xE9gligeable. Pour \xE9viter les efforts inutiles et redondants, il est imp\xE9ratif de pouvoir partager et r\xE9utiliser les mod\xE8les qui ont d\xE9j\xE0 \xE9t\xE9 entra\xEEn\xE9s."),wr=_(),ue=a("p"),Es=n("Charger un "),Ft=a("em"),ks=n("transformer"),qs=n(" qui a d\xE9j\xE0 \xE9t\xE9 entra\xEEn\xE9 est simple : nous pouvons le faire en utilisant la m\xE9thode "),St=a("code"),ys=n("from_pretrained()"),ws=n(" :"),Mr=_(),oe.c(),ct=_(),G=a("p"),Ms=n("Dans l\u2019exemple de code ci-dessus, nous n\u2019avons pas utilis\xE9 "),Ot=a("code"),Cs=n("BertConfig"),js=n(" et avons \xE0 la place charg\xE9 un mod\xE8le pr\xE9-entra\xEEn\xE9 via l\u2019identifiant "),It=a("code"),Bs=n("bert-base-cased"),zs=n(". Il s\u2019agit d\u2019un "),Ht=a("em"),Ps=n("checkpoint"),Ls=n(" qui a \xE9t\xE9 entra\xEEn\xE9 par les auteurs de BERT eux-m\xEAmes. Vous pouvez trouver davantage de d\xE9tails \xE0 son sujet dans la "),Te=a("a"),As=n("fiche du mod\xE8le"),xs=n("."),Cr=_(),ce=a("p"),Ns=n("Ce mod\xE8le est maintenant initialis\xE9 avec tous les poids du "),Rt=a("em"),Ds=n("checkpoint"),Ts=n(". Il peut \xEAtre utilis\xE9 directement pour l\u2019inf\xE9rence sur les t\xE2ches sur lesquelles il a \xE9t\xE9 entra\xEEn\xE9. Il peut \xE9galement \xEAtre "),Ut=a("em"),Fs=n("finetun\xE9"),Ss=n(" sur une nouvelle t\xE2che. En entra\xEEnant avec des poids pr\xE9-entra\xEEn\xE9s plut\xF4t qu\u2019\xE0 partir de z\xE9ro, nous pouvons rapidement obtenir de bons r\xE9sultats."),jr=_(),K=a("p"),Os=n("Les poids ont \xE9t\xE9 t\xE9l\xE9charg\xE9s et mis en cache (afin que les futurs appels \xE0 la m\xE9thode "),Vt=a("code"),Is=n("from_pretrained()"),Hs=n(" ne les ret\xE9l\xE9chargent pas) dans le dossier cache, qui est par d\xE9faut "),Gt=a("em"),Rs=n("~/.cache/huggingface/transformers"),Us=n(". Vous pouvez personnaliser votre dossier de cache en d\xE9finissant la variable d\u2019environnement "),Jt=a("code"),Vs=n("HF_HOME"),Gs=n("."),Br=_(),Q=a("p"),Js=n("L\u2019identifiant utilis\xE9 pour charger le mod\xE8le peut \xEAtre l\u2019identifiant de n\u2019importe quel mod\xE8le sur le "),Yt=a("em"),Ys=n("Model Hub"),Ks=n(" du moment qu\u2019il est compatible avec l\u2019architecture BERT. La liste compl\xE8te des "),Kt=a("em"),Qs=n("checkpoints"),Ws=n(" de BERT disponibles peut \xEAtre trouv\xE9e "),Fe=a("a"),Xs=n("ici"),Zs=n("."),zr=_(),ge=a("h3"),Ce=a("a"),Qt=a("span"),D(Se.$$.fragment),eo=_(),Wt=a("span"),to=n("M\xE9thodes de sauvegarde"),Pr=_(),de=a("p"),ro=n("Sauvegarder un mod\xE8le est aussi facile que d\u2019en charger un. Nous utilisons la m\xE9thode "),Xt=a("code"),so=n("save_pretrained()"),oo=n(", qui est analogue \xE0 la m\xE9thode "),Zt=a("code"),no=n("from_pretrained()"),lo=n(" :"),Lr=_(),D(Oe.$$.fragment),Ar=_(),dt=a("p"),ao=n("Cela enregistre deux fichiers sur votre disque :"),xr=_(),le.c(),pt=_(),J=a("p"),io=n("Si vous jetez un coup d\u2019\u0153il au fichier "),er=a("em"),uo=n("config.json"),co=n(", vous reconna\xEEtrez les attributs n\xE9cessaires pour construire l\u2019architecture du mod\xE8le. Ce fichier contient \xE9galement certaines m\xE9tadonn\xE9es, comme l\u2019origine du "),tr=a("em"),po=n("checkpoint"),mo=n(" et la version de la biblioth\xE8que \u{1F917} "),rr=a("em"),fo=n("Transformers"),_o=n(" que vous utilisiez lors du dernier enregistrement du point "),sr=a("em"),ho=n("checkpoint"),vo=n("."),Nr=_(),ye.c(),mt=_(),Ee=a("h3"),je=a("a"),or=a("span"),D(Ie.$$.fragment),bo=_(),He=a("span"),$o=n("Utilisation d'un "),nr=a("i"),go=n("transformer"),Eo=n(" pour l'inf\xE9rence"),Dr=_(),W=a("p"),ko=n("Maintenant que vous savez comment charger et sauvegarder un mod\xE8le, essayons de l\u2019utiliser pour faire quelques pr\xE9dictions. Les "),lr=a("em"),qo=n("transformers"),yo=n(" ne peuvent traiter que des nombres. Des nombres que le "),ar=a("em"),wo=n("tokenizer"),Mo=n(" g\xE9n\xE8re. Mais avant de parler des "),ir=a("em"),Co=n("tokenizers"),jo=n(", explorons les entr\xE9es que le mod\xE8le accepte."),Tr=_(),pe=a("p"),Bo=n("Les "),ur=a("em"),zo=n("tokenizers"),Po=n(" se chargent de passer les entr\xE9es vers les tenseurs du "),cr=a("em"),Lo=n("framework"),Ao=n(" appropri\xE9. Pour vous aider \xE0 comprendre ce qui se passe, jetons un coup d\u2019\u0153il rapide \xE0 ce qui doit \xEAtre fait avant d\u2019envoyer les entr\xE9es au mod\xE8le."),Fr=_(),ft=a("p"),xo=n("Disons que nous avons les s\xE9quences suivantes :"),Sr=_(),D(Re.$$.fragment),Or=_(),me=a("p"),No=n("Le "),dr=a("em"),Do=n("tokenizer"),To=n(" les convertit en indices de vocabulaire qui sont g\xE9n\xE9ralement appel\xE9s "),pr=a("em"),Fo=n("input IDs"),So=n(". Chaque s\xE9quence est maintenant une liste de nombres ! La sortie r\xE9sultante est :"),Ir=_(),D(Ue.$$.fragment),Hr=_(),_t=a("p"),Oo=n("Il s\u2019agit d\u2019une liste de s\xE9quences encod\xE9es : une liste de listes. Les tenseurs n\u2019acceptent que des formes rectangulaires (pensez aux matrices). Ce \xAB tableau \xBB est d\xE9j\xE0 de forme rectangulaire, donc le convertir en tenseur est facile :"),Rr=_(),ie.c(),ht=_(),ke=a("h3"),Be=a("a"),mr=a("span"),D(Ve.$$.fragment),Io=_(),fr=a("span"),Ho=n("Utilisation des tenseurs comme entr\xE9es du mod\xE8le"),Ur=_(),vt=a("p"),Ro=n("L\u2019utilisation des tenseurs avec le mod\xE8le est extr\xEAmement simple, il suffit d\u2019appeler le mod\xE8le avec les entr\xE9es :"),Vr=_(),D(Ge.$$.fragment),Gr=_(),fe=a("p"),Uo=n("Bien que le mod\xE8le accepte un grand nombre d\u2019arguments diff\xE9rents, seuls les identifiants d\u2019entr\xE9e sont n\xE9cessaires. Nous expliquerons plus tard ce que font les autres arguments et quand ils sont n\xE9cessaires. Avant cela, regardons de plus pr\xE8s les "),_r=a("em"),Vo=n("tokenizers"),Go=n(", cet outil qui construit les entr\xE9es qu\u2019un "),hr=a("em"),Jo=n("transformer"),Yo=n(" peut comprendre."),this.h()},l(e){const c=bl('[data-svelte="svelte-1phssyn"]',document.head);o=i(c,"META",{name:!0,content:!0}),c.forEach(r),d=h(e),T(s.$$.fragment,e),m=h(e),w=i(e,"H1",{class:!0});var et=u(w);q=i(et,"A",{id:!0,class:!0,href:!0});var bt=u(q);v=i(bt,"SPAN",{});var $t=u(v);T(M.$$.fragment,$t),$t.forEach(r),bt.forEach(r),C=h(et),k=i(et,"SPAN",{});var gt=u(k);A=l(gt,"Les mod\xE8les"),gt.forEach(r),et.forEach(r),L=h(e),B.l(e),O=h(e),z.l(e),y=h(e),qe.l(e),j=h(e),I=i(e,"P",{});var Et=u(I);f=l(Et,"Cependant, si vous connaissez le type de mod\xE8le que vous voulez utiliser, vous pouvez utiliser directement la classe qui d\xE9finit son architecture. Voyons comment cela fonctionne avec un mod\xE8le BERT."),Et.forEach(r),b=h(e),H=i(e,"H2",{class:!0});var ze=u(H);R=i(ze,"A",{id:!0,class:!0,href:!0});var kt=u(R);X=i(kt,"SPAN",{});var qt=u(X);T(Y.$$.fragment,qt),qt.forEach(r),kt.forEach(r),be=h(ze),st=i(ze,"SPAN",{});var Ko=u(st);rs=l(Ko,"Cr\xE9ation d\u2019un "),Pt=i(Ko,"I",{});var mn=u(Pt);ss=l(mn,"transformer"),mn.forEach(r),Ko.forEach(r),ze.forEach(r),vr=h(e),ot=i(e,"P",{});var fn=u(ot);os=l(fn,"La premi\xE8re chose que nous devons faire pour initialiser un mod\xE8le BERT est de charger un objet configuration :"),fn.forEach(r),br=h(e),ee.l(e),nt=h(e),lt=i(e,"P",{});var _n=u(lt);ns=l(_n,"La configuration contient de nombreux attributs qui sont utilis\xE9s pour construire le mod\xE8le :"),_n.forEach(r),$r=h(e),T(xe.$$.fragment,e),gr=h(e),T(Ne.$$.fragment,e),Er=h(e),V=i(e,"P",{});var _e=u(V);ls=l(_e,"Bien que vous n\u2019ayez pas encore vu ce que font tous ces attributs, vous devriez en reconna\xEEtre certains : l\u2019attribut "),Lt=i(_e,"CODE",{});var hn=u(Lt);as=l(hn,"hidden_size"),hn.forEach(r),is=l(_e," d\xE9finit la taille du vecteur "),At=i(_e,"CODE",{});var vn=u(At);us=l(vn,"hidden_states"),vn.forEach(r),cs=l(_e,", et "),xt=i(_e,"CODE",{});var bn=u(xt);ds=l(bn,"num_hidden_layers"),bn.forEach(r),ps=l(_e," d\xE9finit le nombre de couches que le "),Nt=i(_e,"EM",{});var $n=u(Nt);ms=l($n,"transformer"),$n.forEach(r),fs=l(_e," poss\xE8de."),_e.forEach(r),kr=h(e),$e=i(e,"H3",{class:!0});var Qr=u($e);we=i(Qr,"A",{id:!0,class:!0,href:!0});var gn=u(we);Dt=i(gn,"SPAN",{});var En=u(Dt);T(De.$$.fragment,En),En.forEach(r),gn.forEach(r),_s=h(Qr),Tt=i(Qr,"SPAN",{});var kn=u(Tt);hs=l(kn,"Diff\xE9rentes m\xE9thodes de chargement"),kn.forEach(r),Qr.forEach(r),qr=h(e),at=i(e,"P",{});var qn=u(at);vs=l(qn,"Un mod\xE8le cr\xE9\xE9 \xE0 partir de la configuration par d\xE9faut est initialis\xE9 avec des valeurs al\xE9atoires :"),qn.forEach(r),yr=h(e),re.l(e),it=h(e),Me=i(e,"P",{});var Wr=u(Me);bs=l(Wr,"Le mod\xE8le peut \xEAtre utilis\xE9 tel quel mais il produira du charabia. En effet, il doit d\u2019abord \xEAtre entra\xEEn\xE9. Nous pourrions entra\xEEner le mod\xE8le \xE0 partir de z\xE9ro sur la t\xE2che qui nous int\xE9resse mais comme vous l\u2019avez vu dans le "),ut=i(Wr,"A",{href:!0});var yn=u(ut);$s=l(yn,"chapitre 1"),yn.forEach(r),gs=l(Wr," cela n\xE9cessiterait beaucoup de temps et de donn\xE9es. De plus cela aurait un impact environnemental non n\xE9gligeable. Pour \xE9viter les efforts inutiles et redondants, il est imp\xE9ratif de pouvoir partager et r\xE9utiliser les mod\xE8les qui ont d\xE9j\xE0 \xE9t\xE9 entra\xEEn\xE9s."),Wr.forEach(r),wr=h(e),ue=i(e,"P",{});var yt=u(ue);Es=l(yt,"Charger un "),Ft=i(yt,"EM",{});var wn=u(Ft);ks=l(wn,"transformer"),wn.forEach(r),qs=l(yt," qui a d\xE9j\xE0 \xE9t\xE9 entra\xEEn\xE9 est simple : nous pouvons le faire en utilisant la m\xE9thode "),St=i(yt,"CODE",{});var Mn=u(St);ys=l(Mn,"from_pretrained()"),Mn.forEach(r),ws=l(yt," :"),yt.forEach(r),Mr=h(e),oe.l(e),ct=h(e),G=i(e,"P",{});var he=u(G);Ms=l(he,"Dans l\u2019exemple de code ci-dessus, nous n\u2019avons pas utilis\xE9 "),Ot=i(he,"CODE",{});var Cn=u(Ot);Cs=l(Cn,"BertConfig"),Cn.forEach(r),js=l(he," et avons \xE0 la place charg\xE9 un mod\xE8le pr\xE9-entra\xEEn\xE9 via l\u2019identifiant "),It=i(he,"CODE",{});var jn=u(It);Bs=l(jn,"bert-base-cased"),jn.forEach(r),zs=l(he,". Il s\u2019agit d\u2019un "),Ht=i(he,"EM",{});var Bn=u(Ht);Ps=l(Bn,"checkpoint"),Bn.forEach(r),Ls=l(he," qui a \xE9t\xE9 entra\xEEn\xE9 par les auteurs de BERT eux-m\xEAmes. Vous pouvez trouver davantage de d\xE9tails \xE0 son sujet dans la "),Te=i(he,"A",{href:!0,rel:!0});var zn=u(Te);As=l(zn,"fiche du mod\xE8le"),zn.forEach(r),xs=l(he,"."),he.forEach(r),Cr=h(e),ce=i(e,"P",{});var wt=u(ce);Ns=l(wt,"Ce mod\xE8le est maintenant initialis\xE9 avec tous les poids du "),Rt=i(wt,"EM",{});var Pn=u(Rt);Ds=l(Pn,"checkpoint"),Pn.forEach(r),Ts=l(wt,". Il peut \xEAtre utilis\xE9 directement pour l\u2019inf\xE9rence sur les t\xE2ches sur lesquelles il a \xE9t\xE9 entra\xEEn\xE9. Il peut \xE9galement \xEAtre "),Ut=i(wt,"EM",{});var Ln=u(Ut);Fs=l(Ln,"finetun\xE9"),Ln.forEach(r),Ss=l(wt," sur une nouvelle t\xE2che. En entra\xEEnant avec des poids pr\xE9-entra\xEEn\xE9s plut\xF4t qu\u2019\xE0 partir de z\xE9ro, nous pouvons rapidement obtenir de bons r\xE9sultats."),wt.forEach(r),jr=h(e),K=i(e,"P",{});var Pe=u(K);Os=l(Pe,"Les poids ont \xE9t\xE9 t\xE9l\xE9charg\xE9s et mis en cache (afin que les futurs appels \xE0 la m\xE9thode "),Vt=i(Pe,"CODE",{});var An=u(Vt);Is=l(An,"from_pretrained()"),An.forEach(r),Hs=l(Pe," ne les ret\xE9l\xE9chargent pas) dans le dossier cache, qui est par d\xE9faut "),Gt=i(Pe,"EM",{});var xn=u(Gt);Rs=l(xn,"~/.cache/huggingface/transformers"),xn.forEach(r),Us=l(Pe,". Vous pouvez personnaliser votre dossier de cache en d\xE9finissant la variable d\u2019environnement "),Jt=i(Pe,"CODE",{});var Nn=u(Jt);Vs=l(Nn,"HF_HOME"),Nn.forEach(r),Gs=l(Pe,"."),Pe.forEach(r),Br=h(e),Q=i(e,"P",{});var Le=u(Q);Js=l(Le,"L\u2019identifiant utilis\xE9 pour charger le mod\xE8le peut \xEAtre l\u2019identifiant de n\u2019importe quel mod\xE8le sur le "),Yt=i(Le,"EM",{});var Dn=u(Yt);Ys=l(Dn,"Model Hub"),Dn.forEach(r),Ks=l(Le," du moment qu\u2019il est compatible avec l\u2019architecture BERT. La liste compl\xE8te des "),Kt=i(Le,"EM",{});var Tn=u(Kt);Qs=l(Tn,"checkpoints"),Tn.forEach(r),Ws=l(Le," de BERT disponibles peut \xEAtre trouv\xE9e "),Fe=i(Le,"A",{href:!0,rel:!0});var Fn=u(Fe);Xs=l(Fn,"ici"),Fn.forEach(r),Zs=l(Le,"."),Le.forEach(r),zr=h(e),ge=i(e,"H3",{class:!0});var Xr=u(ge);Ce=i(Xr,"A",{id:!0,class:!0,href:!0});var Sn=u(Ce);Qt=i(Sn,"SPAN",{});var On=u(Qt);T(Se.$$.fragment,On),On.forEach(r),Sn.forEach(r),eo=h(Xr),Wt=i(Xr,"SPAN",{});var In=u(Wt);to=l(In,"M\xE9thodes de sauvegarde"),In.forEach(r),Xr.forEach(r),Pr=h(e),de=i(e,"P",{});var Mt=u(de);ro=l(Mt,"Sauvegarder un mod\xE8le est aussi facile que d\u2019en charger un. Nous utilisons la m\xE9thode "),Xt=i(Mt,"CODE",{});var Hn=u(Xt);so=l(Hn,"save_pretrained()"),Hn.forEach(r),oo=l(Mt,", qui est analogue \xE0 la m\xE9thode "),Zt=i(Mt,"CODE",{});var Rn=u(Zt);no=l(Rn,"from_pretrained()"),Rn.forEach(r),lo=l(Mt," :"),Mt.forEach(r),Lr=h(e),T(Oe.$$.fragment,e),Ar=h(e),dt=i(e,"P",{});var Un=u(dt);ao=l(Un,"Cela enregistre deux fichiers sur votre disque :"),Un.forEach(r),xr=h(e),le.l(e),pt=h(e),J=i(e,"P",{});var ve=u(J);io=l(ve,"Si vous jetez un coup d\u2019\u0153il au fichier "),er=i(ve,"EM",{});var Vn=u(er);uo=l(Vn,"config.json"),Vn.forEach(r),co=l(ve,", vous reconna\xEEtrez les attributs n\xE9cessaires pour construire l\u2019architecture du mod\xE8le. Ce fichier contient \xE9galement certaines m\xE9tadonn\xE9es, comme l\u2019origine du "),tr=i(ve,"EM",{});var Gn=u(tr);po=l(Gn,"checkpoint"),Gn.forEach(r),mo=l(ve," et la version de la biblioth\xE8que \u{1F917} "),rr=i(ve,"EM",{});var Jn=u(rr);fo=l(Jn,"Transformers"),Jn.forEach(r),_o=l(ve," que vous utilisiez lors du dernier enregistrement du point "),sr=i(ve,"EM",{});var Yn=u(sr);ho=l(Yn,"checkpoint"),Yn.forEach(r),vo=l(ve,"."),ve.forEach(r),Nr=h(e),ye.l(e),mt=h(e),Ee=i(e,"H3",{class:!0});var Zr=u(Ee);je=i(Zr,"A",{id:!0,class:!0,href:!0});var Kn=u(je);or=i(Kn,"SPAN",{});var Qn=u(or);T(Ie.$$.fragment,Qn),Qn.forEach(r),Kn.forEach(r),bo=h(Zr),He=i(Zr,"SPAN",{});var es=u(He);$o=l(es,"Utilisation d'un "),nr=i(es,"I",{});var Wn=u(nr);go=l(Wn,"transformer"),Wn.forEach(r),Eo=l(es," pour l'inf\xE9rence"),es.forEach(r),Zr.forEach(r),Dr=h(e),W=i(e,"P",{});var Ae=u(W);ko=l(Ae,"Maintenant que vous savez comment charger et sauvegarder un mod\xE8le, essayons de l\u2019utiliser pour faire quelques pr\xE9dictions. Les "),lr=i(Ae,"EM",{});var Xn=u(lr);qo=l(Xn,"transformers"),Xn.forEach(r),yo=l(Ae," ne peuvent traiter que des nombres. Des nombres que le "),ar=i(Ae,"EM",{});var Zn=u(ar);wo=l(Zn,"tokenizer"),Zn.forEach(r),Mo=l(Ae," g\xE9n\xE8re. Mais avant de parler des "),ir=i(Ae,"EM",{});var el=u(ir);Co=l(el,"tokenizers"),el.forEach(r),jo=l(Ae,", explorons les entr\xE9es que le mod\xE8le accepte."),Ae.forEach(r),Tr=h(e),pe=i(e,"P",{});var Ct=u(pe);Bo=l(Ct,"Les "),ur=i(Ct,"EM",{});var tl=u(ur);zo=l(tl,"tokenizers"),tl.forEach(r),Po=l(Ct," se chargent de passer les entr\xE9es vers les tenseurs du "),cr=i(Ct,"EM",{});var rl=u(cr);Lo=l(rl,"framework"),rl.forEach(r),Ao=l(Ct," appropri\xE9. Pour vous aider \xE0 comprendre ce qui se passe, jetons un coup d\u2019\u0153il rapide \xE0 ce qui doit \xEAtre fait avant d\u2019envoyer les entr\xE9es au mod\xE8le."),Ct.forEach(r),Fr=h(e),ft=i(e,"P",{});var sl=u(ft);xo=l(sl,"Disons que nous avons les s\xE9quences suivantes :"),sl.forEach(r),Sr=h(e),T(Re.$$.fragment,e),Or=h(e),me=i(e,"P",{});var jt=u(me);No=l(jt,"Le "),dr=i(jt,"EM",{});var ol=u(dr);Do=l(ol,"tokenizer"),ol.forEach(r),To=l(jt," les convertit en indices de vocabulaire qui sont g\xE9n\xE9ralement appel\xE9s "),pr=i(jt,"EM",{});var nl=u(pr);Fo=l(nl,"input IDs"),nl.forEach(r),So=l(jt,". Chaque s\xE9quence est maintenant une liste de nombres ! La sortie r\xE9sultante est :"),jt.forEach(r),Ir=h(e),T(Ue.$$.fragment,e),Hr=h(e),_t=i(e,"P",{});var ll=u(_t);Oo=l(ll,"Il s\u2019agit d\u2019une liste de s\xE9quences encod\xE9es : une liste de listes. Les tenseurs n\u2019acceptent que des formes rectangulaires (pensez aux matrices). Ce \xAB tableau \xBB est d\xE9j\xE0 de forme rectangulaire, donc le convertir en tenseur est facile :"),ll.forEach(r),Rr=h(e),ie.l(e),ht=h(e),ke=i(e,"H3",{class:!0});var ts=u(ke);Be=i(ts,"A",{id:!0,class:!0,href:!0});var al=u(Be);mr=i(al,"SPAN",{});var il=u(mr);T(Ve.$$.fragment,il),il.forEach(r),al.forEach(r),Io=h(ts),fr=i(ts,"SPAN",{});var ul=u(fr);Ho=l(ul,"Utilisation des tenseurs comme entr\xE9es du mod\xE8le"),ul.forEach(r),ts.forEach(r),Ur=h(e),vt=i(e,"P",{});var cl=u(vt);Ro=l(cl,"L\u2019utilisation des tenseurs avec le mod\xE8le est extr\xEAmement simple, il suffit d\u2019appeler le mod\xE8le avec les entr\xE9es :"),cl.forEach(r),Vr=h(e),T(Ge.$$.fragment,e),Gr=h(e),fe=i(e,"P",{});var Bt=u(fe);Uo=l(Bt,"Bien que le mod\xE8le accepte un grand nombre d\u2019arguments diff\xE9rents, seuls les identifiants d\u2019entr\xE9e sont n\xE9cessaires. Nous expliquerons plus tard ce que font les autres arguments et quand ils sont n\xE9cessaires. Avant cela, regardons de plus pr\xE8s les "),_r=i(Bt,"EM",{});var dl=u(_r);Vo=l(dl,"tokenizers"),dl.forEach(r),Go=l(Bt,", cet outil qui construit les entr\xE9es qu\u2019un "),hr=i(Bt,"EM",{});var pl=u(hr);Jo=l(pl,"transformer"),pl.forEach(r),Yo=l(Bt," peut comprendre."),Bt.forEach(r),this.h()},h(){P(o,"name","hf:doc:metadata"),P(o,"content",JSON.stringify(Ol)),P(q,"id","les-modles"),P(q,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),P(q,"href","#les-modles"),P(w,"class","relative group"),P(R,"id","cration-dun-itransformeri"),P(R,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),P(R,"href","#cration-dun-itransformeri"),P(H,"class","relative group"),P(we,"id","diffrentes-mthodes-de-chargement"),P(we,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),P(we,"href","#diffrentes-mthodes-de-chargement"),P($e,"class","relative group"),P(ut,"href","/course/fr/chapter1"),P(Te,"href","https://huggingface.co/bert-base-cased"),P(Te,"rel","nofollow"),P(Fe,"href","https://huggingface.co/models?filter=bert"),P(Fe,"rel","nofollow"),P(Ce,"id","mthodes-de-sauvegarde"),P(Ce,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),P(Ce,"href","#mthodes-de-sauvegarde"),P(ge,"class","relative group"),P(je,"id","utilisation-dun-itransformeri-pour-linfrence"),P(je,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),P(je,"href","#utilisation-dun-itransformeri-pour-linfrence"),P(Ee,"class","relative group"),P(Be,"id","utilisation-des-tenseurs-comme-entres-du-modle"),P(Be,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),P(Be,"href","#utilisation-des-tenseurs-comme-entres-du-modle"),P(ke,"class","relative group")},m(e,c){t(document.head,o),p(e,d,c),F(s,e,c),p(e,m,c),p(e,w,c),t(w,q),t(q,v),F(M,v,null),t(w,C),t(w,k),t(k,A),p(e,L,c),Je[x].m(e,c),p(e,O,c),Ye[N].m(e,c),p(e,y,c),qe.m(e,c),p(e,j,c),p(e,I,c),t(I,f),p(e,b,c),p(e,H,c),t(H,R),t(R,X),F(Y,X,null),t(H,be),t(H,st),t(st,rs),t(st,Pt),t(Pt,ss),p(e,vr,c),p(e,ot,c),t(ot,os),p(e,br,c),Ke[Z].m(e,c),p(e,nt,c),p(e,lt,c),t(lt,ns),p(e,$r,c),F(xe,e,c),p(e,gr,c),F(Ne,e,c),p(e,Er,c),p(e,V,c),t(V,ls),t(V,Lt),t(Lt,as),t(V,is),t(V,At),t(At,us),t(V,cs),t(V,xt),t(xt,ds),t(V,ps),t(V,Nt),t(Nt,ms),t(V,fs),p(e,kr,c),p(e,$e,c),t($e,we),t(we,Dt),F(De,Dt,null),t($e,_s),t($e,Tt),t(Tt,hs),p(e,qr,c),p(e,at,c),t(at,vs),p(e,yr,c),Qe[te].m(e,c),p(e,it,c),p(e,Me,c),t(Me,bs),t(Me,ut),t(ut,$s),t(Me,gs),p(e,wr,c),p(e,ue,c),t(ue,Es),t(ue,Ft),t(Ft,ks),t(ue,qs),t(ue,St),t(St,ys),t(ue,ws),p(e,Mr,c),We[se].m(e,c),p(e,ct,c),p(e,G,c),t(G,Ms),t(G,Ot),t(Ot,Cs),t(G,js),t(G,It),t(It,Bs),t(G,zs),t(G,Ht),t(Ht,Ps),t(G,Ls),t(G,Te),t(Te,As),t(G,xs),p(e,Cr,c),p(e,ce,c),t(ce,Ns),t(ce,Rt),t(Rt,Ds),t(ce,Ts),t(ce,Ut),t(Ut,Fs),t(ce,Ss),p(e,jr,c),p(e,K,c),t(K,Os),t(K,Vt),t(Vt,Is),t(K,Hs),t(K,Gt),t(Gt,Rs),t(K,Us),t(K,Jt),t(Jt,Vs),t(K,Gs),p(e,Br,c),p(e,Q,c),t(Q,Js),t(Q,Yt),t(Yt,Ys),t(Q,Ks),t(Q,Kt),t(Kt,Qs),t(Q,Ws),t(Q,Fe),t(Fe,Xs),t(Q,Zs),p(e,zr,c),p(e,ge,c),t(ge,Ce),t(Ce,Qt),F(Se,Qt,null),t(ge,eo),t(ge,Wt),t(Wt,to),p(e,Pr,c),p(e,de,c),t(de,ro),t(de,Xt),t(Xt,so),t(de,oo),t(de,Zt),t(Zt,no),t(de,lo),p(e,Lr,c),F(Oe,e,c),p(e,Ar,c),p(e,dt,c),t(dt,ao),p(e,xr,c),Xe[ne].m(e,c),p(e,pt,c),p(e,J,c),t(J,io),t(J,er),t(er,uo),t(J,co),t(J,tr),t(tr,po),t(J,mo),t(J,rr),t(rr,fo),t(J,_o),t(J,sr),t(sr,ho),t(J,vo),p(e,Nr,c),ye.m(e,c),p(e,mt,c),p(e,Ee,c),t(Ee,je),t(je,or),F(Ie,or,null),t(Ee,bo),t(Ee,He),t(He,$o),t(He,nr),t(nr,go),t(He,Eo),p(e,Dr,c),p(e,W,c),t(W,ko),t(W,lr),t(lr,qo),t(W,yo),t(W,ar),t(ar,wo),t(W,Mo),t(W,ir),t(ir,Co),t(W,jo),p(e,Tr,c),p(e,pe,c),t(pe,Bo),t(pe,ur),t(ur,zo),t(pe,Po),t(pe,cr),t(cr,Lo),t(pe,Ao),p(e,Fr,c),p(e,ft,c),t(ft,xo),p(e,Sr,c),F(Re,e,c),p(e,Or,c),p(e,me,c),t(me,No),t(me,dr),t(dr,Do),t(me,To),t(me,pr),t(pr,Fo),t(me,So),p(e,Ir,c),F(Ue,e,c),p(e,Hr,c),p(e,_t,c),t(_t,Oo),p(e,Rr,c),Ze[ae].m(e,c),p(e,ht,c),p(e,ke,c),t(ke,Be),t(Be,mr),F(Ve,mr,null),t(ke,Io),t(ke,fr),t(fr,Ho),p(e,Ur,c),p(e,vt,c),t(vt,Ro),p(e,Vr,c),F(Ge,e,c),p(e,Gr,c),p(e,fe,c),t(fe,Uo),t(fe,_r),t(_r,Vo),t(fe,Go),t(fe,hr),t(hr,Jo),t(fe,Yo),Jr=!0},p(e,[c]){const et={};c&1&&(et.fw=e[0]),s.$set(et);let bt=x;x=Wo(e),x!==bt&&(rt(),$(Je[bt],1,1,()=>{Je[bt]=null}),tt(),B=Je[x],B||(B=Je[x]=Qo[x](e),B.c()),g(B,1),B.m(O.parentNode,O));let $t=N;N=Zo(e),N!==$t&&(rt(),$(Ye[$t],1,1,()=>{Ye[$t]=null}),tt(),z=Ye[N],z||(z=Ye[N]=Xo[N](e),z.c()),g(z,1),z.m(y.parentNode,y)),Yr!==(Yr=en(e))&&(qe.d(1),qe=Yr(e),qe&&(qe.c(),qe.m(j.parentNode,j)));let gt=Z;Z=rn(e),Z!==gt&&(rt(),$(Ke[gt],1,1,()=>{Ke[gt]=null}),tt(),ee=Ke[Z],ee||(ee=Ke[Z]=tn[Z](e),ee.c()),g(ee,1),ee.m(nt.parentNode,nt));let Et=te;te=on(e),te!==Et&&(rt(),$(Qe[Et],1,1,()=>{Qe[Et]=null}),tt(),re=Qe[te],re||(re=Qe[te]=sn[te](e),re.c()),g(re,1),re.m(it.parentNode,it));let ze=se;se=ln(e),se!==ze&&(rt(),$(We[ze],1,1,()=>{We[ze]=null}),tt(),oe=We[se],oe||(oe=We[se]=nn[se](e),oe.c()),g(oe,1),oe.m(ct.parentNode,ct));let kt=ne;ne=un(e),ne!==kt&&(rt(),$(Xe[kt],1,1,()=>{Xe[kt]=null}),tt(),le=Xe[ne],le||(le=Xe[ne]=an[ne](e),le.c()),g(le,1),le.m(pt.parentNode,pt)),Kr!==(Kr=cn(e))&&(ye.d(1),ye=Kr(e),ye&&(ye.c(),ye.m(mt.parentNode,mt)));let qt=ae;ae=pn(e),ae!==qt&&(rt(),$(Ze[qt],1,1,()=>{Ze[qt]=null}),tt(),ie=Ze[ae],ie||(ie=Ze[ae]=dn[ae](e),ie.c()),g(ie,1),ie.m(ht.parentNode,ht))},i(e){Jr||(g(s.$$.fragment,e),g(M.$$.fragment,e),g(B),g(z),g(Y.$$.fragment,e),g(ee),g(xe.$$.fragment,e),g(Ne.$$.fragment,e),g(De.$$.fragment,e),g(re),g(oe),g(Se.$$.fragment,e),g(Oe.$$.fragment,e),g(le),g(Ie.$$.fragment,e),g(Re.$$.fragment,e),g(Ue.$$.fragment,e),g(ie),g(Ve.$$.fragment,e),g(Ge.$$.fragment,e),Jr=!0)},o(e){$(s.$$.fragment,e),$(M.$$.fragment,e),$(B),$(z),$(Y.$$.fragment,e),$(ee),$(xe.$$.fragment,e),$(Ne.$$.fragment,e),$(De.$$.fragment,e),$(re),$(oe),$(Se.$$.fragment,e),$(Oe.$$.fragment,e),$(le),$(Ie.$$.fragment,e),$(Re.$$.fragment,e),$(Ue.$$.fragment,e),$(ie),$(Ve.$$.fragment,e),$(Ge.$$.fragment,e),Jr=!1},d(e){r(o),e&&r(d),S(s,e),e&&r(m),e&&r(w),S(M),e&&r(L),Je[x].d(e),e&&r(O),Ye[N].d(e),e&&r(y),qe.d(e),e&&r(j),e&&r(I),e&&r(b),e&&r(H),S(Y),e&&r(vr),e&&r(ot),e&&r(br),Ke[Z].d(e),e&&r(nt),e&&r(lt),e&&r($r),S(xe,e),e&&r(gr),S(Ne,e),e&&r(Er),e&&r(V),e&&r(kr),e&&r($e),S(De),e&&r(qr),e&&r(at),e&&r(yr),Qe[te].d(e),e&&r(it),e&&r(Me),e&&r(wr),e&&r(ue),e&&r(Mr),We[se].d(e),e&&r(ct),e&&r(G),e&&r(Cr),e&&r(ce),e&&r(jr),e&&r(K),e&&r(Br),e&&r(Q),e&&r(zr),e&&r(ge),S(Se),e&&r(Pr),e&&r(de),e&&r(Lr),S(Oe,e),e&&r(Ar),e&&r(dt),e&&r(xr),Xe[ne].d(e),e&&r(pt),e&&r(J),e&&r(Nr),ye.d(e),e&&r(mt),e&&r(Ee),S(Ie),e&&r(Dr),e&&r(W),e&&r(Tr),e&&r(pe),e&&r(Fr),e&&r(ft),e&&r(Sr),S(Re,e),e&&r(Or),e&&r(me),e&&r(Ir),S(Ue,e),e&&r(Hr),e&&r(_t),e&&r(Rr),Ze[ae].d(e),e&&r(ht),e&&r(ke),S(Ve),e&&r(Ur),e&&r(vt),e&&r(Vr),S(Ge,e),e&&r(Gr),e&&r(fe)}}}const Ol={local:"les-modles",sections:[{local:"cration-dun-itransformeri",sections:[{local:"diffrentes-mthodes-de-chargement",title:"Diff\xE9rentes m\xE9thodes de chargement"},{local:"mthodes-de-sauvegarde",title:"M\xE9thodes de sauvegarde"},{local:"utilisation-dun-itransformeri-pour-linfrence",title:"Utilisation d'un <i>transformer</i> pour l'inf\xE9rence"},{local:"utilisation-des-tenseurs-comme-entres-du-modle",title:"Utilisation des tenseurs comme entr\xE9es du mod\xE8le"}],title:"Cr\xE9ation d\u2019un <i>transformer</i>"}],title:"Les mod\xE8les"};function Il(E,o,d){let s="pt";return $l(()=>{const m=new URLSearchParams(window.location.search);d(0,s=m.get("fw")||"pt")}),[s]}class Yl extends _l{constructor(o){super();hl(this,o,Il,Sl,vl,{})}}export{Yl as default,Ol as metadata};
