import{S as Qt,i as Vt,s as Wt,e as r,k as s,w as h,t as f,M as Xt,c as n,d as t,m as c,a as l,x as m,h as u,b as p,G as a,g as o,y as v,L as Yt,q as $,o as d,B as _,v as Zt}from"../../chunks/vendor-hf-doc-builder.js";import{I as oe}from"../../chunks/IconCopyLink-hf-doc-builder.js";import{C}from"../../chunks/CodeBlock-hf-doc-builder.js";function ei(_t){let w,de,g,E,re,G,Ve,ne,We,_e,K,Xe,we,y,x,le,U,Ye,se,Ze,ge,Q,et,ye,b,N,ce,H,tt,pe,it,be,V,at,Ae,L,Pe,A,S,fe,q,ot,ue,rt,ke,W,nt,Ee,M,xe,P,T,he,j,lt,me,st,Ne,X,ct,Se,D,Te,Y,pt,Ie,O,Ce,k,I,ve,z,ft,$e,ut,Ge,Z,ht,Ue,B,He,ee,mt,Le,F,qe,te,vt,Me,ie,$t,je,J,De,ae,dt,Oe,R,ze;return G=new oe({}),U=new oe({}),H=new oe({}),L=new C({props:{code:"pip install accelerate",highlighted:"pip install accelerate"}}),q=new oe({}),M=new C({props:{code:"conda install -c conda-forge accelerate",highlighted:"conda install -c conda-forge accelerate"}}),j=new oe({}),D=new C({props:{code:"pip install git+https://github.com/huggingface/accelerate",highlighted:"pip install git+https://github.com/huggingface/accelerate"}}),O=new C({props:{code:`git clone https://github.com/huggingface/accelerate
cd accelerate
pip install -e .`,highlighted:`git <span class="hljs-built_in">clone</span> https://github.com/huggingface/accelerate
<span class="hljs-built_in">cd</span> accelerate
pip install -e .`}}),z=new oe({}),B=new C({props:{code:"accelerate config",highlighted:"accelerate config"}}),F=new C({props:{code:`python -c "from accelerate.utils import write_basic_config; write_basic_config(mixed_precision='fp16')"`,highlighted:'python -c <span class="hljs-string">&quot;from accelerate.utils import write_basic_config; write_basic_config(mixed_precision=&#x27;fp16&#x27;)&quot;</span>'}}),J=new C({props:{code:"accelerate env",highlighted:'accelerate <span class="hljs-built_in">env</span>'}}),R=new C({props:{code:`- \`Accelerate\` version: 0.11.0.dev0
- Platform: Linux-5.10.0-15-cloud-amd64-x86_64-with-debian-11.3
- Python version: 3.7.12
- Numpy version: 1.19.5
- PyTorch version (GPU?): 1.12.0+cu102 (True)
- \`Accelerate\` default config:
        - compute_environment: LOCAL_MACHINE
        - distributed_type: MULTI_GPU
        - mixed_precision: no
        - use_cpu: False
        - num_processes: 2
        - machine_rank: 0
        - num_machines: 1
        - main_process_ip: None
        - main_process_port: None
        - main_training_function: main
        - deepspeed_config: {}
        - fsdp_config: {}`,highlighted:`- \`Accelerate\` version: 0.11.0.dev0
- Platform: Linux-5.10.0-15-cloud-amd64-x86_64-with-debian-11.3
- Python version: 3.7.12
- Numpy version: 1.19.5
- PyTorch version (GPU?): 1.12.0+cu102 (True)
- \`Accelerate\` default config:
        - compute_environment: LOCAL_MACHINE
        - distributed_type: MULTI_GPU
        - mixed_precision: no
        - use_cpu: False
        - num_processes: 2
        - machine_rank: 0
        - num_machines: 1
        - main_process_ip: None
        - main_process_port: None
        - main_training_function: main
        - deepspeed_config: {}
        - fsdp_config: {}`}}),{c(){w=r("meta"),de=s(),g=r("h1"),E=r("a"),re=r("span"),h(G.$$.fragment),Ve=s(),ne=r("span"),We=f("Installation and Configuration"),_e=s(),K=r("p"),Xe=f("Some changes here"),we=s(),y=r("h2"),x=r("a"),le=r("span"),h(U.$$.fragment),Ye=s(),se=r("span"),Ze=f("Installing \u{1F917} Accelerate"),ge=s(),Q=r("p"),et=f("\u{1F917} Accelerate is available on pypi and conda, as well as on GitHub. Details to install from each are below:"),ye=s(),b=r("h3"),N=r("a"),ce=r("span"),h(H.$$.fragment),tt=s(),pe=r("span"),it=f("pip"),be=s(),V=r("p"),at=f("To install \u{1F917} Accelerate from pypi, perform:"),Ae=s(),h(L.$$.fragment),Pe=s(),A=r("h3"),S=r("a"),fe=r("span"),h(q.$$.fragment),ot=s(),ue=r("span"),rt=f("conda"),ke=s(),W=r("p"),nt=f("\u{1F917} Accelerate can also be installed with conda with:"),Ee=s(),h(M.$$.fragment),xe=s(),P=r("h3"),T=r("a"),he=r("span"),h(j.$$.fragment),lt=s(),me=r("span"),st=f("Source"),Ne=s(),X=r("p"),ct=f(`New features are added every day that haven\u2019t been released yet. To try them out yourself, install
from the GitHub repository:`),Se=s(),h(D.$$.fragment),Te=s(),Y=r("p"),pt=f(`If you\u2019re working on contributing to the library or wish to play with the source code and see live
results as you run the code, an editable version can be installed from a locally-cloned version of the
repository:`),Ie=s(),h(O.$$.fragment),Ce=s(),k=r("h2"),I=r("a"),ve=r("span"),h(z.$$.fragment),ft=s(),$e=r("span"),ut=f("Configuring \u{1F917} Accelerate"),Ge=s(),Z=r("p"),ht=f(`After installing, you need to configure \u{1F917} Accelerate for how the current system is setup for training.
To do so run the following and answer the questions prompted to you:`),Ue=s(),h(B.$$.fragment),He=s(),ee=r("p"),mt=f("To write a barebones configuration that doesn\u2019t include options such as DeepSpeed configuration or running on TPUs, you can quickly run:"),Le=s(),h(F.$$.fragment),qe=s(),te=r("p"),vt=f("\u{1F917} Accelerate will automatically utilize the maximum number of GPUs available and set the mixed precision mode."),Me=s(),ie=r("p"),$t=f("To check that your configuration looks fine, run:"),je=s(),h(J.$$.fragment),De=s(),ae=r("p"),dt=f("An example output is shown below, which describes two GPUs on a single machine with no mixed precision being used:"),Oe=s(),h(R.$$.fragment),this.h()},l(e){const i=Xt('[data-svelte="svelte-1phssyn"]',document.head);w=n(i,"META",{name:!0,content:!0}),i.forEach(t),de=c(e),g=n(e,"H1",{class:!0});var Be=l(g);E=n(Be,"A",{id:!0,class:!0,href:!0});var wt=l(E);re=n(wt,"SPAN",{});var gt=l(re);m(G.$$.fragment,gt),gt.forEach(t),wt.forEach(t),Ve=c(Be),ne=n(Be,"SPAN",{});var yt=l(ne);We=u(yt,"Installation and Configuration"),yt.forEach(t),Be.forEach(t),_e=c(e),K=n(e,"P",{});var bt=l(K);Xe=u(bt,"Some changes here"),bt.forEach(t),we=c(e),y=n(e,"H2",{class:!0});var Fe=l(y);x=n(Fe,"A",{id:!0,class:!0,href:!0});var At=l(x);le=n(At,"SPAN",{});var Pt=l(le);m(U.$$.fragment,Pt),Pt.forEach(t),At.forEach(t),Ye=c(Fe),se=n(Fe,"SPAN",{});var kt=l(se);Ze=u(kt,"Installing \u{1F917} Accelerate"),kt.forEach(t),Fe.forEach(t),ge=c(e),Q=n(e,"P",{});var Et=l(Q);et=u(Et,"\u{1F917} Accelerate is available on pypi and conda, as well as on GitHub. Details to install from each are below:"),Et.forEach(t),ye=c(e),b=n(e,"H3",{class:!0});var Je=l(b);N=n(Je,"A",{id:!0,class:!0,href:!0});var xt=l(N);ce=n(xt,"SPAN",{});var Nt=l(ce);m(H.$$.fragment,Nt),Nt.forEach(t),xt.forEach(t),tt=c(Je),pe=n(Je,"SPAN",{});var St=l(pe);it=u(St,"pip"),St.forEach(t),Je.forEach(t),be=c(e),V=n(e,"P",{});var Tt=l(V);at=u(Tt,"To install \u{1F917} Accelerate from pypi, perform:"),Tt.forEach(t),Ae=c(e),m(L.$$.fragment,e),Pe=c(e),A=n(e,"H3",{class:!0});var Re=l(A);S=n(Re,"A",{id:!0,class:!0,href:!0});var It=l(S);fe=n(It,"SPAN",{});var Ct=l(fe);m(q.$$.fragment,Ct),Ct.forEach(t),It.forEach(t),ot=c(Re),ue=n(Re,"SPAN",{});var Gt=l(ue);rt=u(Gt,"conda"),Gt.forEach(t),Re.forEach(t),ke=c(e),W=n(e,"P",{});var Ut=l(W);nt=u(Ut,"\u{1F917} Accelerate can also be installed with conda with:"),Ut.forEach(t),Ee=c(e),m(M.$$.fragment,e),xe=c(e),P=n(e,"H3",{class:!0});var Ke=l(P);T=n(Ke,"A",{id:!0,class:!0,href:!0});var Ht=l(T);he=n(Ht,"SPAN",{});var Lt=l(he);m(j.$$.fragment,Lt),Lt.forEach(t),Ht.forEach(t),lt=c(Ke),me=n(Ke,"SPAN",{});var qt=l(me);st=u(qt,"Source"),qt.forEach(t),Ke.forEach(t),Ne=c(e),X=n(e,"P",{});var Mt=l(X);ct=u(Mt,`New features are added every day that haven\u2019t been released yet. To try them out yourself, install
from the GitHub repository:`),Mt.forEach(t),Se=c(e),m(D.$$.fragment,e),Te=c(e),Y=n(e,"P",{});var jt=l(Y);pt=u(jt,`If you\u2019re working on contributing to the library or wish to play with the source code and see live
results as you run the code, an editable version can be installed from a locally-cloned version of the
repository:`),jt.forEach(t),Ie=c(e),m(O.$$.fragment,e),Ce=c(e),k=n(e,"H2",{class:!0});var Qe=l(k);I=n(Qe,"A",{id:!0,class:!0,href:!0});var Dt=l(I);ve=n(Dt,"SPAN",{});var Ot=l(ve);m(z.$$.fragment,Ot),Ot.forEach(t),Dt.forEach(t),ft=c(Qe),$e=n(Qe,"SPAN",{});var zt=l($e);ut=u(zt,"Configuring \u{1F917} Accelerate"),zt.forEach(t),Qe.forEach(t),Ge=c(e),Z=n(e,"P",{});var Bt=l(Z);ht=u(Bt,`After installing, you need to configure \u{1F917} Accelerate for how the current system is setup for training.
To do so run the following and answer the questions prompted to you:`),Bt.forEach(t),Ue=c(e),m(B.$$.fragment,e),He=c(e),ee=n(e,"P",{});var Ft=l(ee);mt=u(Ft,"To write a barebones configuration that doesn\u2019t include options such as DeepSpeed configuration or running on TPUs, you can quickly run:"),Ft.forEach(t),Le=c(e),m(F.$$.fragment,e),qe=c(e),te=n(e,"P",{});var Jt=l(te);vt=u(Jt,"\u{1F917} Accelerate will automatically utilize the maximum number of GPUs available and set the mixed precision mode."),Jt.forEach(t),Me=c(e),ie=n(e,"P",{});var Rt=l(ie);$t=u(Rt,"To check that your configuration looks fine, run:"),Rt.forEach(t),je=c(e),m(J.$$.fragment,e),De=c(e),ae=n(e,"P",{});var Kt=l(ae);dt=u(Kt,"An example output is shown below, which describes two GPUs on a single machine with no mixed precision being used:"),Kt.forEach(t),Oe=c(e),m(R.$$.fragment,e),this.h()},h(){p(w,"name","hf:doc:metadata"),p(w,"content",JSON.stringify(ti)),p(E,"id","installation-and-configuration"),p(E,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(E,"href","#installation-and-configuration"),p(g,"class","relative group"),p(x,"id","installing-accelerate"),p(x,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(x,"href","#installing-accelerate"),p(y,"class","relative group"),p(N,"id","pip"),p(N,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(N,"href","#pip"),p(b,"class","relative group"),p(S,"id","conda"),p(S,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(S,"href","#conda"),p(A,"class","relative group"),p(T,"id","source"),p(T,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(T,"href","#source"),p(P,"class","relative group"),p(I,"id","configuring-accelerate"),p(I,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(I,"href","#configuring-accelerate"),p(k,"class","relative group")},m(e,i){a(document.head,w),o(e,de,i),o(e,g,i),a(g,E),a(E,re),v(G,re,null),a(g,Ve),a(g,ne),a(ne,We),o(e,_e,i),o(e,K,i),a(K,Xe),o(e,we,i),o(e,y,i),a(y,x),a(x,le),v(U,le,null),a(y,Ye),a(y,se),a(se,Ze),o(e,ge,i),o(e,Q,i),a(Q,et),o(e,ye,i),o(e,b,i),a(b,N),a(N,ce),v(H,ce,null),a(b,tt),a(b,pe),a(pe,it),o(e,be,i),o(e,V,i),a(V,at),o(e,Ae,i),v(L,e,i),o(e,Pe,i),o(e,A,i),a(A,S),a(S,fe),v(q,fe,null),a(A,ot),a(A,ue),a(ue,rt),o(e,ke,i),o(e,W,i),a(W,nt),o(e,Ee,i),v(M,e,i),o(e,xe,i),o(e,P,i),a(P,T),a(T,he),v(j,he,null),a(P,lt),a(P,me),a(me,st),o(e,Ne,i),o(e,X,i),a(X,ct),o(e,Se,i),v(D,e,i),o(e,Te,i),o(e,Y,i),a(Y,pt),o(e,Ie,i),v(O,e,i),o(e,Ce,i),o(e,k,i),a(k,I),a(I,ve),v(z,ve,null),a(k,ft),a(k,$e),a($e,ut),o(e,Ge,i),o(e,Z,i),a(Z,ht),o(e,Ue,i),v(B,e,i),o(e,He,i),o(e,ee,i),a(ee,mt),o(e,Le,i),v(F,e,i),o(e,qe,i),o(e,te,i),a(te,vt),o(e,Me,i),o(e,ie,i),a(ie,$t),o(e,je,i),v(J,e,i),o(e,De,i),o(e,ae,i),a(ae,dt),o(e,Oe,i),v(R,e,i),ze=!0},p:Yt,i(e){ze||($(G.$$.fragment,e),$(U.$$.fragment,e),$(H.$$.fragment,e),$(L.$$.fragment,e),$(q.$$.fragment,e),$(M.$$.fragment,e),$(j.$$.fragment,e),$(D.$$.fragment,e),$(O.$$.fragment,e),$(z.$$.fragment,e),$(B.$$.fragment,e),$(F.$$.fragment,e),$(J.$$.fragment,e),$(R.$$.fragment,e),ze=!0)},o(e){d(G.$$.fragment,e),d(U.$$.fragment,e),d(H.$$.fragment,e),d(L.$$.fragment,e),d(q.$$.fragment,e),d(M.$$.fragment,e),d(j.$$.fragment,e),d(D.$$.fragment,e),d(O.$$.fragment,e),d(z.$$.fragment,e),d(B.$$.fragment,e),d(F.$$.fragment,e),d(J.$$.fragment,e),d(R.$$.fragment,e),ze=!1},d(e){t(w),e&&t(de),e&&t(g),_(G),e&&t(_e),e&&t(K),e&&t(we),e&&t(y),_(U),e&&t(ge),e&&t(Q),e&&t(ye),e&&t(b),_(H),e&&t(be),e&&t(V),e&&t(Ae),_(L,e),e&&t(Pe),e&&t(A),_(q),e&&t(ke),e&&t(W),e&&t(Ee),_(M,e),e&&t(xe),e&&t(P),_(j),e&&t(Ne),e&&t(X),e&&t(Se),_(D,e),e&&t(Te),e&&t(Y),e&&t(Ie),_(O,e),e&&t(Ce),e&&t(k),_(z),e&&t(Ge),e&&t(Z),e&&t(Ue),_(B,e),e&&t(He),e&&t(ee),e&&t(Le),_(F,e),e&&t(qe),e&&t(te),e&&t(Me),e&&t(ie),e&&t(je),_(J,e),e&&t(De),e&&t(ae),e&&t(Oe),_(R,e)}}}const ti={local:"installation-and-configuration",sections:[{local:"installing-accelerate",sections:[{local:"pip",title:"pip "},{local:"conda",title:"conda"},{local:"source",title:"Source"}],title:"Installing \u{1F917} Accelerate"},{local:"configuring-accelerate",title:"Configuring \u{1F917} Accelerate"}],title:"Installation and Configuration"};function ii(_t){return Zt(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class ni extends Qt{constructor(w){super();Vt(this,w,ii,ei,Wt,{})}}export{ni as default,ti as metadata};
